# Hypericum

[Гиперикум](https://qapp.tech/research/hypericum) - квантово-устойчивый алгоритм электронно-цифровой подписи основанный на стойкости отечественной криптографической хэш-функции ГОСТ 34.11 "Стрибог". 

Данный репозиторий содержит открытую реализацию этого алгоритма на языке Си за автороством специалистов из компании [QApp](https://qapp.tech) и разработанную специалистами QApp в рамках [ТК26](https://tc26.ru/).

## Сборка

Для сборки проекта используется cmake. Поддерживаются следующие опции:
- `PARAMSET`. Задает набор параметров Hypericum. Возможные значения:
  - `universal`
  - `fast_sign`
  - `small_sign`
- SHOW_INTERMEDIATE_OUTPUT. Указывает, нужно ли выводить результаты промежуточных вычислений. Принимает значения `ON` или `OFF`
- `GOST_OPTIMIZATION`. Задает уровень оптимизации хэша `GOST 34.11-2012`, используемого в алгоритме. Различные уровни оптимизаций могут поддерживаться не на всех платформах.
  - `0` нет оптимизации
  - `1` инструкции MMX
  - `2` инструкции SSE2
  - `3` инструкции SSE4.1
- Санитайзеры. Поддерживаются не на всех платформах и не всеми компиляторами. Доступные опции:
  - `SANITIZE_ADDRESS`
  - `SANITIZE_MEMORY`
  - `SANITIZE_THREAD`
  - `SANITIZE_UNDEFINED`

Пример сборки проекта:
```bash
$ mkdir build
$ cd build
$ cmake -DPARAMSET=universal -DGOST_OPTIMIZATION=1 -DSANITIZE_ADDRESS=on ..
$ make
```

## Тесты

В файле `example.c` есть минимальный пример использования представленной реализации Hypericum. Компилируется в исполняемый файл `hypericum_example` в каталоге сборки.

## Вывод данных контрольного примера

Для подготовки данных контрольного примера необходимо собрать `hypericum_example`, используя параметр сборки `SHOW_INTERMEDIATE_OUTPUT`:

```
mkdir build
cd build
cmake -DSHOW_INTERMEDIATE_OUTPUT=ON -DPARAMSET=universal ..
make
./hypericum_example
```

## KAT

Программа `PQCgenKAT_sign` генерирует данные для тестов с известным ответом (Known Answer Test, KAT) в формате, который используется в конкурсе постквантовых алгоритмов NIST.
